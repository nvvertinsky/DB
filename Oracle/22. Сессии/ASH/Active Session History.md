# Active Session History

### Описание
  - Обязательно нужна лицензия на Oracle Diagnostic Pack
  - Oracle собирает статистику для всех активных сеансов каждую 1 секунду.
  - Сохраняет в SGA. Если буфер заполнился, то процесс MMNL сбрасывает на диск.
  - Записывает самую свежую активность сеанса.
  
### В каких случаях полезна ASH?
Заказчик желает узнать почему:
  - Время отклика базы хуже обычного
  - База данных «зависла»
  - Пакетное задание не закончилось к сроку
  
Ответ нужен сейчас!
Нет, он не готов повторить проблему, когда вы включите 
трассировку
  

### Представления
````
v$active_session_history        # Анализ текущих активных сеансов (SGA)
dba_hist_active_session_history # Анализ хронологии старых сеансов (HDD)
````


### Генерация отчета ASH. Утилита ashrpt.sql. HTML или текстовый.
````
$ $ORACLE_HOME/rdbms/admin/ashrpt.sql
````

### Параметр 
control_management_pack_access