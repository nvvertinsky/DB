Nested loops

Описание: 
Хорошее решение если нужно быстро получить первую строку из результирующего набора.
Если нужно быстро получить последнюю строку результирующего набора, то это неудачное решение.

Если главная задача выборка десяти первых строк для отображения, то метод вложенного цикла является замечательным решением.

Если же требуется последняя строка данных, то получения результата займет много времени. И потребует значительного кол-во операций ввода/вывода. 

Как работает:

  select empno,
         dname
    from emp,
         dept
   where emp.deptno = dept.deptno;

Псевдокод логики процесса соединения:

  for x in (select * from emp)
  loop
    index lookup the rowid for x.deptno;
    select * from dept where dept.rowid = that rowid;
    output joined record
  end loop;

  1. Читаем первый блок таблицы emp.
  2. Берем первую строку из блока и используем ее значение deptno для поиска в таблице dept
  3. Читаем индексные блоки таблицы dept. Находим нужный лист с rowid строки в dept
  4. Читаем блок и строку по rowid в таблице dept.

Таким образом, за четыре операций логического ввода/вывода можно получить данные.

По сути берет первое значение из первой таблицы и сравнивает его с каждым значением во второй таблице. То есть ищет совпадения.


