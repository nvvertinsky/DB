# PGA. Глобальная область процесса. Process Global Area


### Описание: 
  - Это область памяти выделенного серверного процесса.
  - Другие процессы не имеют доступа к ней.
  - То есть допустим клиент подключится к базе данных, ему создали процесс на сервере. И этому процессу выделяется память.

### Что хранит: 
  - Рабочая область памяти: 
    - Область сортировки
      - group by
	  - order by 
    - Область хеширования
	  - При хеш соединении таблиц строит хеш таблицы здесь
    - Область слияния битовых индексов
    - Память сессии
      - Переменные
    - Массивы (пакетный кеш например)
  
  - Приватная область памяти
    - Привязанные переменные (bind variables). Например когда выполняется SQL или PL/SQL
	- Курсоры. (область памяти с результатами данных запроса)
	-
  
### Если не хватает памяти
  - Сбрасывает часть данный на диск в табличное пространство TEMP

### Режим управления: 
  - Автоматическое управление памятью (AMM).
    - Применяется к PGA и SGA.
	- Доступно только с 11g.
	- Нужно установить всего один параметр MEMORY_TARGET.
	- Oracle сам распределит память SGA, PGA как ему надо.
  
  - Автоматическое управление памятью PGA.
    - Нужно установить размер параметра PGA_AGGREGATE_TARGET
	- Какой режим выбран контролирует параметр WORKAREA_SIZE_POLICY
  
  - Ручное управление PGA
    - Нужно вручную выставлять параметры SORT_AREA_SIZE, HASH_AREA_SIZE. Это значения определяеют лимиты для одиночной операции. Внутри сеанса могут выполняться много запросов. Так же если эти значения поставить в 1гб, это не значит что будет каждый раз использовать 1 гб. 
		- SORT_AREA_SIZE - Объем памяти для сортировки данных.
		- SORT_AREA_RETAINED_SIZE - Объем памяти, который используется для хранения остортированных данных. Если места не хватит, то как обычно скидываем в TEMP
		- HASH_AREA_SIZE - Объем памяти, для хранения хеш-таблиц. Когда происходит хеш соединение таблиц.
	- Какой режим выбран контролирует параметр WORKAREA_SIZE_POLICY