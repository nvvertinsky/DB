# CLUSTER


### Описание
Кластерами называют две или более таблиц, которые физически хранятся вместе, чтобы использовать преимущества совпадающих между таблицами столбцов


### Принцип работы
  - Создается новый объект (сегмент) - кластер с общим столбцом
  - В кластер добавляются 2 или более таблиц с общим столбцом
  - В блоках сегмента хранятся данные из общего столбца
  - Пользователь делает запрос. Читаем блок где хранится нужное значение
  - В блоке есть rowid, который указывает на строки с искомым значанием в каждой таблице кластера
  

### Цель
  - Читаем всего 1 блок, вместо 2—х и более. Ведь без кластера пришлось бы считывать блок из каждой таблицы


### Пример создания обычного кластера
````
CREATE CLUSTER emp_dept(deptno NUMBER(3)) TABLESPACE users;

CREATE TABLE dept(deptno NUMBER(3) PRIMARY KEY) CLUSTER emp_dept (deptno);
CREATE TABLE emp(empno NUMBER(5) PRIMARY KEY, ename VARCHAR2(15) NOT NULL, deptno NUMBER(3) REFERENCES dept) CLUSTER emp_dept(deptno);
````

### Пример создания хеш кластера
````
CREATE CLUSTER emp_dept(deptno NUMBER(3)) TABLESPACE users HASH IS deptno HASHKEYS 200;
````

### Недостатки 
 - Однако кластеры понижают производительность операторов INSERT, поскольку для хранения данных нескольких таблиц требуется больше блоков.
 
 
