# Хеш индекс 

### Описание: 
  - 

### Структура (см. рисинок): 
  - Метастраница - нулевая страница содержит информацию о том что находится внутри индекса. 
  - Страницы (блоки) корзин - основные страницы индекса. Здесь хранятся пары "Хеш-код - TID".
  - Страницы (блоки) переполнения - когда одной страницы корзины не хватает.
  - Страницы битовой карты - в них отмечаются освободившиеся страницы переполнения, которые можно использовать для других корзин.
  - Стрелочки вниз, идущие от элементов индексных страниц, символизируют TID-ы — ссылки на табличные строки.
  
### Как работает: 
  - При вставке в индекс сначала вычисляем хеш-функцию для ключа.
  - Записываем хеш-код ключа и TID в корзину.
  - При поиске так же для ключа вычисляем хеш-функцию и получаем номер корзины.
  - Остается перебрать корзину и найти там нужный хеш-код ключа и TID.
  
  - Но хеш-код ключа может быть одинаковый. Поэтому TID, обращаемся к таблице, берем значение и перепроверяем его. 

### Когда использовать:
  - Не ясно. Скорее всего тогда когда будет значительно быстрее b-tree индекса.
  
### В каком порядке указывать столбцы: 
  - 

### Ограничения: 
  - Только операторы сравнения = 
  - До 10 версии. Не отображаются в журнале предзаписи (WAL) 
 
### Команда:
  - create index index_name on table_name using hash(column_name);